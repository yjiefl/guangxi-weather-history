## 功能改进

### 已完成 (100% 实现)

1. 下载的时候需要显示进度条，并可以打断（✅已完成）
2. 更容易的部署 and 打开使用（✅已完成打开）
3. 查询时如果没有数据则自动下载（✅已完成）
4. 排查太阳辐射总计是否错误（✅已完成）
5. 顶部增加按钮快速跳转到不同的位置（✅已完成）
6. 增加一个按钮，可以快速选择最近的7天，14天，30天，90天，180天，365天（✅已完成）
7. bug：点击导出excel报错：werkzeug - INFO - 127.0.0.1 - - [27/Jan/2026 06:22:44] "POST /api/weather/export HTTP/1.1" 400 -（✅已完成）
8. 如果后端退出，前端有提示（✅已完成）
9. 下载的数据缺少城市、日期、时间等信息，汇总数据需要每一天，每个城市的汇总数据（✅已完成）
10. 查询时日期现在只能选择前天，应该可以选择昨天才对（✅已完成）
11. 改进前端 UI，让城市和日期的选择更加直观，城市排列有点松散，占地方（✅已完成）
12. 增加一个按钮，可以点击打开/关闭后台服务（✅已完成）
13. 下载的时候可以一次性选择更多城市（✅已处理）

### BUG

#### 已修复

1. 日期不能选择今天，可以选昨天及以前的日期（因为今天数据还没出来）（✅已完成）
2. 初始的默认时间是昨天（✅已完成）
3. 选择多个城市后，显示「正在对比 undefined 个城市的天气数据」（✅已处理）
4. 数据管理部分，选择城市窗口显示「加载中...」（✅已处理）
5. 如果显示的是多日的日期，可以人工选择具体某一天的数据进行查看（✅已处理）
6. 如果查询时选择多个站，应该有按钮可以选择查看不同站点数据（✅已处理）
7. 点击关闭按钮不能退出后端（✅已通过杀死父进程 reloader 及自毁机制修复）
8. 能不能看到天气整体情况，比如晴天、阴天、多云、雨天等（✅已完成）
9. 数据管理部分，城市、日期等部分共用查询的逻辑，可以把查询的逻辑提取出来（✅已完成）
10. 在数据管理部分提供下载数据功能（完整字段批量导出），修复了 undefined 路径及日期格式匹配问题（✅已完成）
11. 运行start.command后，自动打开浏览器（✅已实现，仅限macOS）
12. 连接、断开后，前端有提示，按钮要变色提醒（✅已实现状态灯同步及按钮禁用逻辑）
13. 数据字段勾选很多，但是不是每个都有值（✅已处理）
14. 蒸发蒸腾量(mm)没有获取到（✅已修复 API 参数映射及数据库兼容性）
15. 重新核对导出数据字段一致性（✅已统一原始数据、数据汇总、每日汇总的字段顺序和内容）

### 未完成

(暂无)

### 后续改进

1. 考虑程序部署到服务器上或者云端，让其他人可以快速的使用
2. 城市仅需要广西的城市，崇左、贵港的需要精确到县城
3. 在每个图上提示是哪个城市的数据
